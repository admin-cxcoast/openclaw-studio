Recent session logs on 2026-01-26 show tool calls failing when XAI_API_KEY is missing and gateway configuration is unavailable, while this UI only reads gateway config via /api/gateway (src/app/api/gateway/route.ts) and relies on optional envs in src/lib/env.ts. The result is that users see generic errors or a silent failure without actionable guidance, especially when the config file is missing in the locations resolved by src/lib/clawdbot/config.ts.

Add a server route such as /api/config/health that returns the resolved config path, gateway URL/token presence, and missing env keys, using the same resolution logic in src/lib/clawdbot/config.ts and src/lib/clawdbot/gateway.ts. Update the HeaderBar or page UI to show a dismissible diagnostic banner with clear actions (copy config path, retry load, open settings) and plumb error codes into state so the UI can differentiate missing config vs missing env vs gateway auth.

Acceptance criteria: when config is missing, the UI displays the exact resolved path and a next action; when env keys are missing, a warning is shown but the app still loads; unit tests cover the new API response shape. Open questions: which env keys are required for a healthy UI, and should we attempt a lightweight gateway handshake to confirm reachability or keep the check config-only.
